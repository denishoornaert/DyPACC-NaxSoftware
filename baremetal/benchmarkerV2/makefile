PROJ_NAME=benchmarker

LITEX?=FALSE

WORKER_NUM?=7
MAIN_CORE?=0
MAIN_PRIO?=7
SECOND_PRIO?=MAIN_PRIO
SECOND_CORE?=1
N_RUNS?=5
INIT_DELAY?=0
BENCHMARK?=BENCH_C2C_CAS
PRIO_SUPPORT?=TRUE
BENCH_L2?=FALSE
USE_PING_GROUP?=FALSE
N_PINGS?=100
CFLAGS += -DLITEX=$(LITEX) -DUSE_PING_GROUP=$(USE_PING_GROUP) -DBENCH_L2=$(BENCH_L2) -DWORKER_NUM=$(WORKER_NUM) -DMAIN_CORE=$(MAIN_CORE) -DMAIN_PRIO=$(MAIN_PRIO) -DN_RUNS=$(N_RUNS) -DINIT_DELAY=$(INIT_DELAY) -DBENCH=$(BENCHMARK) -DPRIO_SUPPORT=$(PRIO_SUPPORT) -DN_PINGS=$(N_PINGS) -DSECOND_PRIO=$(SECOND_PRIO) -DSECOND_CORE=$(SECOND_CORE)

PG0?=0
PG1?=1
PG2?=2
PG3?=3
PG4?=4
PG5?=5
PG6?=6
PG7?=7
CFLAGS += -DPG0=$(PG0)
CFLAGS += -DPG1=$(PG1)
CFLAGS += -DPG2=$(PG2)
CFLAGS += -DPG3=$(PG3)
CFLAGS += -DPG4=$(PG4)
CFLAGS += -DPG5=$(PG5)
CFLAGS += -DPG6=$(PG6)
CFLAGS += -DPG7=$(PG7)


CFLAGS += -fno-zero-initialized-in-bss

DEBUG=no
BENCH=yes
STANDALONE = ..

SRCS = 	$(wildcard src/*.c) \
		$(wildcard src/*.cpp) \
		$(wildcard src/*.S)

RISCV_PATH?=/opt/riscv32/
RISCV_NAME?= riscv32-unknown-elf

MARCH=rv32ima_zicsr

ifeq ($(LITEX), TRUE)
	LDSCRIPT=../common/litex_app.ld
endif

include ../common/app.mk

